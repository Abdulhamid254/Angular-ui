{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"primeng/avatar\";\nimport * as i3 from \"primeng/button\";\nimport * as i4 from \"primeng/ripple\";\nimport * as i5 from \"primeng/menu\";\nexport class HeaderBarComponent {\n  constructor(router) {\n    this.router = router;\n    this.items = [{\n      label: 'Profile',\n      icon: 'pi pi-user'\n    }, {\n      label: 'Settings',\n      icon: 'pi pi-cog'\n    }, {\n      separator: true\n    }, {\n      label: 'Sign out',\n      icon: 'pi pi-sign-out',\n      command: () => {\n        localStorage.clear();\n        this.router.navigate(['login']);\n      }\n    }];\n  }\n  get username() {\n    const storedUser = localStorage.getItem('user');\n    if (storedUser) {\n      const authResponse = JSON.parse(storedUser);\n      if (authResponse && authResponse.customerDTO && authResponse.customerDTO.username) {\n        return authResponse.customerDTO.username;\n      }\n    }\n    return '--';\n  }\n  get userRole() {\n    const storedUser = localStorage.getItem('user');\n    if (storedUser) {\n      const authResponse = JSON.parse(storedUser);\n      if (authResponse && authResponse.customerDTO && authResponse.customerDTO.roles) {\n        return authResponse.customerDTO.roles[0];\n      }\n    }\n    return '--';\n  }\n}\nHeaderBarComponent.ɵfac = function HeaderBarComponent_Factory(t) {\n  return new (t || HeaderBarComponent)(i0.ɵɵdirectiveInject(i1.Router));\n};\nHeaderBarComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: HeaderBarComponent,\n  selectors: [[\"app-header-bar\"]],\n  decls: 13,\n  vars: 4,\n  consts: [[1, \"flex\", \"flex-column\", \"align-items-end\", \"border-bottom-1\", \"border-gray-200\", \"pt-3\", \"pb-3\"], [1, \"flex\", \"flex-row\", \"align-items-center\"], [\"pButton\", \"\", \"pRipple\", \"\", \"type\", \"button\", \"icon\", \"pi pi-bell\", 1, \"p-button-rounded\", \"p-button-secondary\", \"p-button-text\", \"mr-3\"], [\"image\", \"https://images.unsplash.com/photo-1619946794135-5bc917a27793?ixlib=rb-0.3.5&q=80&fm=jpg&crop=faces&fit=crop&h=200&w=200&s=b616b2c5b373a80ffc9636ba24f7a4a9\", \"size\", \"small\", \"shape\", \"circle\", 1, \"mr-2\"], [1, \"text-base\", \"mb-0\", \"mt-1\", \"text-gray-700\"], [1, \"text-sm\", \"mb-1\", \"mt-0\", \"text-gray-500\"], [\"pButton\", \"\", \"pRipple\", \"\", \"type\", \"button\", \"icon\", \"pi pi-angle-down\", 1, \"p-button-secondary\", \"p-button-text\", 3, \"click\"], [3, \"popup\", \"model\"], [\"menu\", \"\"]],\n  template: function HeaderBarComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r1 = i0.ɵɵgetCurrentView();\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n      i0.ɵɵelement(2, \"button\", 2)(3, \"p-avatar\", 3);\n      i0.ɵɵelementStart(4, \"div\")(5, \"p\", 4);\n      i0.ɵɵtext(6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"p\", 5);\n      i0.ɵɵtext(8);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(9, \"div\")(10, \"button\", 6);\n      i0.ɵɵlistener(\"click\", function HeaderBarComponent_Template_button_click_10_listener($event) {\n        i0.ɵɵrestoreView(_r1);\n        const _r0 = i0.ɵɵreference(12);\n        return i0.ɵɵresetView(_r0.toggle($event));\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(11, \"p-menu\", 7, 8);\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(6);\n      i0.ɵɵtextInterpolate(ctx.username);\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate(ctx.userRole);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"popup\", true)(\"model\", ctx.items);\n    }\n  },\n  dependencies: [i2.Avatar, i3.ButtonDirective, i4.Ripple, i5.Menu],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;AAUA,OAAM,MAAOA,kBAAkB;EAE7BC,YACUC,MAAc;IAAd,WAAM,GAANA,MAAM;IAGhB,UAAK,GAAoB,CACvB;MACEC,KAAK,EAAE,SAAS;MAChBC,IAAI,EAAE;KACP,EACD;MACED,KAAK,EAAE,UAAU;MACjBC,IAAI,EAAE;KACP,EACD;MACEC,SAAS,EAAE;KACZ,EACD;MACEF,KAAK,EAAE,UAAU;MACjBC,IAAI,EAAE,gBAAgB;MACtBE,OAAO,EAAE,MAAK;QACZC,YAAY,CAACC,KAAK,EAAE;QACpB,IAAI,CAACN,MAAM,CAACO,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC;MACjC;KACD,CACF;EArBD;EAuBA,IAAIC,QAAQ;IACV,MAAMC,UAAU,GAAGJ,YAAY,CAACK,OAAO,CAAC,MAAM,CAAC;IAC/C,IAAID,UAAU,EAAE;MACd,MAAME,YAAY,GAA2BC,IAAI,CAACC,KAAK,CAACJ,UAAU,CAAC;MACnE,IAAIE,YAAY,IAAIA,YAAY,CAACG,WAAW,IAAIH,YAAY,CAACG,WAAW,CAACN,QAAQ,EAAE;QACjF,OAAOG,YAAY,CAACG,WAAW,CAACN,QAAQ;;;IAG5C,OAAO,IAAI;EACb;EAEA,IAAIO,QAAQ;IACV,MAAMN,UAAU,GAAGJ,YAAY,CAACK,OAAO,CAAC,MAAM,CAAC;IAC/C,IAAID,UAAU,EAAE;MACd,MAAME,YAAY,GAA2BC,IAAI,CAACC,KAAK,CAACJ,UAAU,CAAC;MACnE,IAAIE,YAAY,IAAIA,YAAY,CAACG,WAAW,IAAIH,YAAY,CAACG,WAAW,CAACE,KAAK,EAAE;QAC9E,OAAOL,YAAY,CAACG,WAAW,CAACE,KAAK,CAAC,CAAC,CAAC;;;IAG5C,OAAO,IAAI;EACb;;AAhDWlB,kBAAkB;mBAAlBA,kBAAkB;AAAA;AAAlBA,kBAAkB;QAAlBA,kBAAkB;EAAAmB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;;MCV/BC,8BAAwF;MAEpFA,4BAMU;MAOVA,2BAAK;MAC0CA,YAAY;MAAAA,iBAAI;MAC7DA,4BAA2C;MAAAA,YAAY;MAAAA,iBAAI;MAE7DA,2BAAK;MAODA;QAAAA;QAAA;QAAA,OAASA,iCAAmB;MAAA,EAAC;MAC9BA,iBAAS;MACVA,gCAAsD;MACxDA,iBAAM;;;MAbyCA,eAAY;MAAZA,kCAAY;MACdA,eAAY;MAAZA,kCAAY;MAWzCA,eAAc;MAAdA,4BAAc","names":["HeaderBarComponent","constructor","router","label","icon","separator","command","localStorage","clear","navigate","username","storedUser","getItem","authResponse","JSON","parse","customerDTO","userRole","roles","selectors","decls","vars","consts","template","i0"],"sourceRoot":"","sources":["E:\\JavaBuilds\\full-stack-professional\\frontend\\angular\\src\\app\\components\\header-bar\\header-bar.component.ts","E:\\JavaBuilds\\full-stack-professional\\frontend\\angular\\src\\app\\components\\header-bar\\header-bar.component.html"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { MenuItem } from 'primeng/api';\r\nimport { AuthenticationResponse } from '../../models/authentication-response';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-header-bar',\r\n  templateUrl: './header-bar.component.html',\r\n  styleUrls: ['./header-bar.component.scss']\r\n})\r\nexport class HeaderBarComponent {\r\n\r\n  constructor(\r\n    private router: Router\r\n  ) {\r\n  }\r\n  items: Array<MenuItem> = [\r\n    {\r\n      label: 'Profile',\r\n      icon: 'pi pi-user'\r\n    },\r\n    {\r\n      label: 'Settings',\r\n      icon: 'pi pi-cog'\r\n    },\r\n    {\r\n      separator: true\r\n    },\r\n    {\r\n      label: 'Sign out',\r\n      icon: 'pi pi-sign-out',\r\n      command: () => {\r\n        localStorage.clear();\r\n        this.router.navigate(['login']);\r\n      }\r\n    },\r\n  ];\r\n\r\n  get username(): string {\r\n    const storedUser = localStorage.getItem('user');\r\n    if (storedUser) {\r\n      const authResponse: AuthenticationResponse = JSON.parse(storedUser);\r\n      if (authResponse && authResponse.customerDTO && authResponse.customerDTO.username) {\r\n        return authResponse.customerDTO.username;\r\n      }\r\n    }\r\n    return '--';\r\n  }\r\n\r\n  get userRole(): string {\r\n    const storedUser = localStorage.getItem('user');\r\n    if (storedUser) {\r\n      const authResponse: AuthenticationResponse = JSON.parse(storedUser);\r\n      if (authResponse && authResponse.customerDTO && authResponse.customerDTO.roles) {\r\n        return authResponse.customerDTO.roles[0];\r\n      }\r\n    }\r\n    return '--';\r\n  }\r\n\r\n}\r\n","<div class=\"flex flex-column align-items-end border-bottom-1 border-gray-200 pt-3 pb-3\">\r\n  <div class=\"flex flex-row align-items-center\">\r\n    <button\r\n      pButton\r\n      pRipple\r\n      type=\"button\"\r\n      icon=\"pi pi-bell\"\r\n      class=\"p-button-rounded p-button-secondary p-button-text mr-3\"\r\n    ></button>\r\n    <p-avatar\r\n      image=\"https://images.unsplash.com/photo-1619946794135-5bc917a27793?ixlib=rb-0.3.5&q=80&fm=jpg&crop=faces&fit=crop&h=200&w=200&s=b616b2c5b373a80ffc9636ba24f7a4a9\"\r\n      size=\"small\"\r\n      shape=\"circle\"\r\n      class=\"mr-2\"\r\n    ></p-avatar>\r\n    <div>\r\n      <p class=\"text-base mb-0 mt-1 text-gray-700\">{{username}}</p>\r\n      <p class=\"text-sm mb-1 mt-0 text-gray-500\">{{userRole}}</p>\r\n    </div>\r\n    <div>\r\n      <button\r\n        pButton\r\n        pRipple\r\n        type=\"button\"\r\n        icon=\"pi pi-angle-down\"\r\n        class=\"p-button-secondary p-button-text\"\r\n        (click)=\"menu.toggle($event)\"\r\n      ></button>\r\n      <p-menu #menu [popup]=\"true\" [model]=\"items\"></p-menu>\r\n    </div>\r\n  </div>\r\n</div>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}