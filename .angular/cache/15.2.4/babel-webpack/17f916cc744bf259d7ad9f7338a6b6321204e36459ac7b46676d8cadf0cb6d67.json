{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../../services/customer/customer.service\";\nimport * as i3 from \"../../services/authentication/authentication.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"primeng/inputtext\";\nimport * as i7 from \"ngx-typed-js\";\nimport * as i8 from \"primeng/avatar\";\nimport * as i9 from \"primeng/button\";\nimport * as i10 from \"primeng/message\";\nfunction RegisterComponent_p_message_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"p-message\", 26);\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"text\", ctx_r0.errorMsg);\n  }\n}\nconst _c0 = \" Wherever the art of medicine is loved, there is also a love of humanity\";\nconst _c1 = function () {\n  return [\"Hello there \\uD83D\\uDC4B\", _c0, \"Better Healthcare\", \"Better Tomorrow\"];\n};\nexport class RegisterComponent {\n  constructor(router, customerService, authenticationService) {\n    this.router = router;\n    this.customerService = customerService;\n    this.authenticationService = authenticationService;\n    this.errorMsg = '';\n    this.customer = {};\n  }\n  login() {\n    this.router.navigate(['login']);\n  }\n  createAccount() {\n    this.customerService.registerCustomer(this.customer).subscribe({\n      next: () => {\n        const authReq = {\n          username: this.customer.email,\n          password: this.customer.password\n        };\n        this.authenticationService.login(authReq).subscribe({\n          next: authenticationResponse => {\n            localStorage.setItem('user', JSON.stringify(authenticationResponse));\n            this.router.navigate(['customers']);\n          },\n          error: err => {\n            if (err.error.statusCode === 401) {\n              this.errorMsg = 'Login and / or password is incorrect';\n            }\n          }\n        });\n      }\n    });\n  }\n}\nRegisterComponent.ɵfac = function RegisterComponent_Factory(t) {\n  return new (t || RegisterComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.CustomerService), i0.ɵɵdirectiveInject(i3.AuthenticationService));\n};\nRegisterComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: RegisterComponent,\n  selectors: [[\"app-register\"]],\n  decls: 40,\n  vars: 10,\n  consts: [[1, \"flex\", 2, \"height\", \"100vh\"], [1, \"col-6\", \"m-3\", \"flex\", \"flex-column\", \"justify-content-center\"], [1, \"m-auto\"], [1, \"text-center\"], [\"image\", \"assets/top1.jpg\", \"styleClass\", \"mr-2\", \"size\", \"xlarge\", \"shape\", \"circle\"], [\"severity\", \"error\", \"styleClass\", \"mb-2 w-full\", 3, \"text\", 4, \"ngIf\"], [1, \"field\"], [\"for\", \"name\"], [\"id\", \"name\", \"pInputText\", \"\", \"placeholder\", \"Jane\", \"type\", \"text\", 1, \"w-full\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"email\"], [\"id\", \"email\", \"pInputText\", \"\", \"placeholder\", \"Jane@amigoscode.com\", \"type\", \"email\", 1, \"w-full\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"age\"], [\"id\", \"age\", \"pInputText\", \"\", \"placeholder\", \"34\", \"type\", \"number\", 1, \"w-full\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"password\"], [\"id\", \"password\", \"pInputText\", \"\", \"placeholder\", \"Password\", \"type\", \"password\", 1, \"w-full\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"gender\"], [\"id\", \"gender\", 1, \"p-dropdown\", \"w-full\", \"custom-select\", 3, \"ngModel\", \"ngModelChange\"], [\"value\", \"\"], [\"value\", \"MALE\"], [\"value\", \"FEMALE\"], [\"pButton\", \"\", \"label\", \"Create an account\", 1, \"w-full\", 3, \"click\"], [\"pButton\", \"\", \"label\", \"Have an account? Login now.\", 1, \"w-full\", \"p-button-link\", \"text-left\", \"pl-0\", 3, \"click\"], [1, \"col-6\", \"flex\", \"flex-column\", \"justify-content-center\", \"align-items-center\", \"right-container\"], [3, \"strings\", \"loop\", \"typeSpeed\"], [1, \"typing\", \"text-white\", \"font-cursive\"], [\"src\", \"assets/healthcare_animation-1.gif\", 1, \"background\", \"p-6\", \"pt-0\"], [\"severity\", \"error\", \"styleClass\", \"mb-2 w-full\", 3, \"text\"]],\n  template: function RegisterComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3);\n      i0.ɵɵelement(4, \"p-avatar\", 4);\n      i0.ɵɵelementStart(5, \"h1\");\n      i0.ɵɵtext(6, \"Register for an account\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(7, RegisterComponent_p_message_7_Template, 1, 1, \"p-message\", 5);\n      i0.ɵɵelementStart(8, \"div\", 6)(9, \"label\", 7);\n      i0.ɵɵtext(10, \"Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"input\", 8);\n      i0.ɵɵlistener(\"ngModelChange\", function RegisterComponent_Template_input_ngModelChange_11_listener($event) {\n        return ctx.customer.name = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(12, \"div\", 6)(13, \"label\", 9);\n      i0.ɵɵtext(14, \"Email\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"input\", 10);\n      i0.ɵɵlistener(\"ngModelChange\", function RegisterComponent_Template_input_ngModelChange_15_listener($event) {\n        return ctx.customer.email = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(16, \"div\", 6)(17, \"label\", 11);\n      i0.ɵɵtext(18, \"Age\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"input\", 12);\n      i0.ɵɵlistener(\"ngModelChange\", function RegisterComponent_Template_input_ngModelChange_19_listener($event) {\n        return ctx.customer.age = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(20, \"div\", 6)(21, \"label\", 13);\n      i0.ɵɵtext(22, \"Password\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(23, \"input\", 14);\n      i0.ɵɵlistener(\"ngModelChange\", function RegisterComponent_Template_input_ngModelChange_23_listener($event) {\n        return ctx.customer.password = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(24, \"div\", 6)(25, \"label\", 15);\n      i0.ɵɵtext(26, \"Gender\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(27, \"select\", 16);\n      i0.ɵɵlistener(\"ngModelChange\", function RegisterComponent_Template_select_ngModelChange_27_listener($event) {\n        return ctx.customer.gender = $event;\n      });\n      i0.ɵɵelementStart(28, \"option\", 17);\n      i0.ɵɵtext(29, \"Select an option\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(30, \"option\", 18);\n      i0.ɵɵtext(31, \"MALE\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(32, \"option\", 19);\n      i0.ɵɵtext(33, \"FEMALE\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(34, \"button\", 20);\n      i0.ɵɵlistener(\"click\", function RegisterComponent_Template_button_click_34_listener() {\n        return ctx.createAccount();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(35, \"button\", 21);\n      i0.ɵɵlistener(\"click\", function RegisterComponent_Template_button_click_35_listener() {\n        return ctx.login();\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(36, \"div\", 22)(37, \"ngx-typed-js\", 23);\n      i0.ɵɵelement(38, \"h1\", 24);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(39, \"img\", 25);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngIf\", ctx.errorMsg);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.customer.name);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.customer.email);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.customer.age);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.customer.password);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.customer.gender);\n      i0.ɵɵadvance(10);\n      i0.ɵɵproperty(\"strings\", i0.ɵɵpureFunction0(9, _c1))(\"loop\", true)(\"typeSpeed\", 100);\n    }\n  },\n  dependencies: [i4.NgIf, i5.NgSelectOption, i5.ɵNgSelectMultipleOption, i5.DefaultValueAccessor, i5.NumberValueAccessor, i5.SelectControlValueAccessor, i5.NgControlStatus, i5.NgModel, i6.InputText, i7.NgxTypedJsComponent, i8.Avatar, i9.ButtonDirective, i10.UIMessage],\n  styles: [\".right-container[_ngcontent-%COMP%] {\\n  background-image: linear-gradient(to right, #2b6cb0, #6b46c1);\\n}\\n.right-container[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%] {\\n  object-fit: scale-down;\\n  height: auto;\\n  max-width: 100%;\\n}\\n.right-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\\n  text-decoration: none;\\n  color: #fff;\\n}\\n\\n.custom-select[_ngcontent-%COMP%] {\\n  padding: 0.75rem 0.75rem;\\n  border: 1px solid #ced4da;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9yZWdpc3Rlci9yZWdpc3Rlci5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLDZEQUFBO0FBQ0Y7QUFBRTtFQUNFLHNCQUFBO0VBQ0EsWUFBQTtFQUNBLGVBQUE7QUFFSjtBQUFFO0VBQ0UscUJBQUE7RUFDQSxXQUFBO0FBRUo7O0FBRUE7RUFDRSx3QkFBQTtFQUNBLHlCQUFBO0FBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyIucmlnaHQtY29udGFpbmVyIHtcclxuICBiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQodG8gcmlnaHQsICMyYjZjYjAsICM2YjQ2YzEpO1xyXG4gIC5iYWNrZ3JvdW5kIHtcclxuICAgIG9iamVjdC1maXQ6IHNjYWxlLWRvd247XHJcbiAgICBoZWlnaHQ6IGF1dG87XHJcbiAgICBtYXgtd2lkdGg6IDEwMCU7XHJcbiAgfVxyXG4gIGEge1xyXG4gICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xyXG4gICAgY29sb3I6ICNmZmY7XHJcbiAgfVxyXG59XHJcblxyXG4uY3VzdG9tLXNlbGVjdCB7XHJcbiAgcGFkZGluZzogMC43NXJlbSAwLjc1cmVtO1xyXG4gIGJvcmRlcjogMXB4IHNvbGlkICNjZWQ0ZGE7XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;;;;;;;;IAYMA,gCAKa;;;;IAFXA,sCAAiB;;;;;;;ACHzB,OAAM,MAAOC,iBAAiB;EAG5BC,YACUC,MAAc,EACdC,eAAgC,EAChCC,qBAA4C;IAF5C,WAAM,GAANF,MAAM;IACN,oBAAe,GAAfC,eAAe;IACf,0BAAqB,GAArBC,qBAAqB;IAL/B,aAAQ,GAAG,EAAE;IACb,aAAQ,GAAgC,EAAE;EAM1C;EAEAC,KAAK;IACH,IAAI,CAACH,MAAM,CAACI,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC;EACjC;EAEAC,aAAa;IACX,IAAI,CAACJ,eAAe,CAACK,gBAAgB,CAAC,IAAI,CAACC,QAAQ,CAAC,CACnDC,SAAS,CAAC;MACTC,IAAI,EAAE,MAAK;QACT,MAAMC,OAAO,GAA0B;UACrCC,QAAQ,EAAE,IAAI,CAACJ,QAAQ,CAACK,KAAK;UAC7BC,QAAQ,EAAE,IAAI,CAACN,QAAQ,CAACM;SACzB;QACD,IAAI,CAACX,qBAAqB,CAACC,KAAK,CAACO,OAAO,CAAC,CACxCF,SAAS,CAAC;UACTC,IAAI,EAAGK,sBAAsB,IAAI;YAC/BC,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEC,IAAI,CAACC,SAAS,CAACJ,sBAAsB,CAAC,CAAC;YACpE,IAAI,CAACd,MAAM,CAACI,QAAQ,CAAC,CAAC,WAAW,CAAC,CAAC;UACrC,CAAC;UACDe,KAAK,EAAGC,GAAG,IAAI;YACb,IAAIA,GAAG,CAACD,KAAK,CAACE,UAAU,KAAK,GAAG,EAAE;cAChC,IAAI,CAACC,QAAQ,GAAG,sCAAsC;;UAE1D;SACD,CAAC;MACJ;KACD,CAAC;EACJ;;AApCWxB,iBAAiB;mBAAjBA,iBAAiB;AAAA;AAAjBA,iBAAiB;QAAjBA,iBAAiB;EAAAyB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDZ9B9B,8BAAwC;MAIhCA,8BAKY;MACZA,0BAAI;MAAAA,uCAAuB;MAAAA,iBAAK;MAElCA,8EAKa;MACbA,8BAAmB;MACCA,qBAAI;MAAAA,iBAAQ;MAC9BA,iCAOE;MANAA;QAAA;MAAA,EAA2B;MAD7BA,iBAOE;MAEJA,+BAAmB;MACEA,sBAAK;MAAAA,iBAAQ;MAChCA,kCAOE;MANAA;QAAA;MAAA,EAA4B;MAD9BA,iBAOE;MAEJA,+BAAmB;MACAA,oBAAG;MAAAA,iBAAQ;MAC5BA,kCAOE;MANAA;QAAA;MAAA,EAA0B;MAD5BA,iBAOE;MAEJA,+BAAmB;MACKA,yBAAQ;MAAAA,iBAAQ;MACtCA,kCAOE;MANAA;QAAA;MAAA,EAA+B;MADjCA,iBAOE;MAEJA,+BAAmB;MACGA,uBAAM;MAAAA,iBAAQ;MAClCA,mCAIC;MAHCA;QAAA;MAAA,EAA6B;MAI7BA,mCAAiB;MAAAA,iCAAgB;MAAAA,iBAAS;MAC1CA,mCAAqB;MAAAA,qBAAI;MAAAA,iBAAS;MAClCA,mCAAuB;MAAAA,uBAAM;MAAAA,iBAAS;MAG1CA,mCAKC;MAJCA;QAAA,OAAS+B,mBAAe;MAAA,EAAC;MAI1B/B,iBAAS;MACVA,mCAKC;MAJCA;QAAA,OAAS+B,WAAO;MAAA,EAAC;MAIlB/B,iBAAS;MAGdA,gCAEC;MAWGA,0BAGK;MACPA,iBAAe;MACfA,2BAA2E;MAC7EA,iBAAM;;;MA9FCA,eAAc;MAAdA,mCAAc;MAQbA,eAA2B;MAA3BA,2CAA2B;MAW3BA,eAA4B;MAA5BA,4CAA4B;MAW5BA,eAA0B;MAA1BA,0CAA0B;MAW1BA,eAA+B;MAA/BA,+CAA+B;MAW/BA,eAA6B;MAA7BA,6CAA6B;MA2BjCA,gBAKE;MALFA,oDAKE","names":["i0","RegisterComponent","constructor","router","customerService","authenticationService","login","navigate","createAccount","registerCustomer","customer","subscribe","next","authReq","username","email","password","authenticationResponse","localStorage","setItem","JSON","stringify","error","err","statusCode","errorMsg","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["E:\\JavaBuilds\\full-stack-professional\\frontend\\angular\\src\\app\\components\\register\\register.component.html","E:\\JavaBuilds\\full-stack-professional\\frontend\\angular\\src\\app\\components\\register\\register.component.ts"],"sourcesContent":["<div class=\"flex\" style=\"height: 100vh\">\r\n  <div class=\"col-6 m-3 flex flex-column justify-content-center\">\r\n    <div class=\"m-auto\">\r\n      <div class=\"text-center\">\r\n        <p-avatar\r\n          image=\"assets/top1.jpg\"\r\n          styleClass=\"mr-2\"\r\n          size=\"xlarge\"\r\n          shape=\"circle\"\r\n        ></p-avatar>\r\n        <h1>Register for an account</h1>\r\n      </div>\r\n      <p-message\r\n        *ngIf=\"errorMsg\"\r\n        severity=\"error\"\r\n        [text]=\"errorMsg\"\r\n        styleClass=\"mb-2 w-full\"\r\n      ></p-message>\r\n      <div class=\"field\">\r\n        <label for=\"name\">Name</label>\r\n        <input\r\n          [(ngModel)]=\"customer.name\"\r\n          id=\"name\"\r\n          pInputText\r\n          placeholder=\"Jane\"\r\n          type=\"text\"\r\n          class=\"w-full\"\r\n        />\r\n      </div>\r\n      <div class=\"field\">\r\n        <label for=\"email\">Email</label>\r\n        <input\r\n          [(ngModel)]=\"customer.email\"\r\n          id=\"email\"\r\n          pInputText\r\n          placeholder=\"Jane@amigoscode.com\"\r\n          type=\"email\"\r\n          class=\"w-full\"\r\n        />\r\n      </div>\r\n      <div class=\"field\">\r\n        <label for=\"age\">Age</label>\r\n        <input\r\n          [(ngModel)]=\"customer.age\"\r\n          id=\"age\"\r\n          pInputText\r\n          placeholder=\"34\"\r\n          type=\"number\"\r\n          class=\"w-full\"\r\n        />\r\n      </div>\r\n      <div class=\"field\">\r\n        <label for=\"password\">Password</label>\r\n        <input\r\n          [(ngModel)]=\"customer.password\"\r\n          id=\"password\"\r\n          pInputText\r\n          placeholder=\"Password\"\r\n          type=\"password\"\r\n          class=\"w-full\"\r\n        />\r\n      </div>\r\n      <div class=\"field\">\r\n        <label for=\"gender\">Gender</label>\r\n        <select\r\n          [(ngModel)]=\"customer.gender\"\r\n          class=\"p-dropdown w-full custom-select\"\r\n          id=\"gender\"\r\n        >\r\n          <option value=\"\">Select an option</option>\r\n          <option value=\"MALE\">MALE</option>\r\n          <option value=\"FEMALE\">FEMALE</option>\r\n        </select>\r\n      </div>\r\n      <button\r\n        (click)=\"createAccount()\"\r\n        pButton\r\n        label=\"Create an account\"\r\n        class=\"w-full\"\r\n      ></button>\r\n      <button\r\n        (click)=\"login()\"\r\n        pButton\r\n        label=\"Have an account? Login now.\"\r\n        class=\"w-full p-button-link text-left pl-0\"\r\n      ></button>\r\n    </div>\r\n  </div>\r\n  <div\r\n    class=\"col-6 flex flex-column justify-content-center align-items-center right-container\"\r\n  >\r\n    <ngx-typed-js\r\n      [strings]=\"[\r\n        'Hello there 👋',\r\n        ' Wherever the art of medicine is loved, there is also a love of humanity',\r\n        'Better Healthcare',\r\n        'Better Tomorrow'\r\n      ]\"\r\n      [loop]=\"true\"\r\n      [typeSpeed]=\"100\"\r\n    >\r\n      <h1 class=\"typing text-white font-cursive\">\r\n        <!-- Better Healthcare, Better Tomorrow -->\r\n        <!-- <a href=\"https://amigoscode.com/courses\" target=\"_blank\">Enrol Now</a> -->\r\n      </h1>\r\n    </ngx-typed-js>\r\n    <img class=\"background p-6 pt-0\" src=\"assets/healthcare_animation-1.gif\" />\r\n  </div>\r\n</div>\r\n","import { Component } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { CustomerRegistrationRequest } from '../../models/customer-registration-request';\r\nimport { CustomerService } from '../../services/customer/customer.service';\r\nimport { AuthenticationService } from '../../services/authentication/authentication.service';\r\nimport { AuthenticationRequest } from '../../models/authentication-request';\r\n\r\n@Component({\r\n  selector: 'app-register',\r\n  templateUrl: './register.component.html',\r\n  styleUrls: ['./register.component.scss']\r\n})\r\nexport class RegisterComponent {\r\n  errorMsg = '';\r\n  customer: CustomerRegistrationRequest = {};\r\n  constructor(\r\n    private router: Router,\r\n    private customerService: CustomerService,\r\n    private authenticationService: AuthenticationService\r\n  ) {\r\n  }\r\n\r\n  login() {\r\n    this.router.navigate(['login']);\r\n  }\r\n\r\n  createAccount() {\r\n    this.customerService.registerCustomer(this.customer)\r\n    .subscribe({\r\n      next: () => {\r\n        const authReq: AuthenticationRequest = {\r\n          username: this.customer.email,\r\n          password: this.customer.password\r\n        }\r\n        this.authenticationService.login(authReq)\r\n        .subscribe({\r\n          next: (authenticationResponse) => {\r\n            localStorage.setItem('user', JSON.stringify(authenticationResponse));\r\n            this.router.navigate(['customers']);\r\n          },\r\n          error: (err) => {\r\n            if (err.error.statusCode === 401) {\r\n              this.errorMsg = 'Login and / or password is incorrect';\r\n            }\r\n          }\r\n        });\r\n      }\r\n    });\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}